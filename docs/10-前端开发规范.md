# 前端开发规范

## 页面结构模板

```tsx
'use client'

import { PageContainer, PageHeader } from '@/components/ui/page-header'
import { DataTable, Pagination, type ColumnDef } from '@/components/ui/data-table'
import { PermissionGuard } from '@/components/permission-guard'
import { Button, Card, Input, Label, TextField } from '@heroui/react'
import { Plus, ArrowsRotateRight } from '@gravity-ui/icons'

export default function ExamplePage() {
  return (
    <PageContainer>
      <PageHeader
        title="页面标题"
        breadcrumbs={[{ label: '系统管理' }, { label: '示例页' }]}
        actions={
          <div className="flex items-center gap-2">
            <Button variant="ghost" onPress={handleRefresh}>
              <ArrowsRotateRight className="size-4" />刷新
            </Button>
            <PermissionGuard permission="module:resource:create">
              <Button onPress={handleCreate}><Plus className="size-4" />新增</Button>
            </PermissionGuard>
          </div>
        }
      />

      <Card>
        <Card.Content className="p-4">
          <div className="flex items-end gap-4">
            <TextField className="max-w-xs flex-1">
              <Label>关键词</Label>
              <Input value={keyword} onChange={(e) => setKeyword(e.target.value)} />
            </TextField>
            <Button variant="secondary" onPress={handleSearch}>搜索</Button>
          </div>
        </Card.Content>
      </Card>

      <DataTable columns={columns} data={data?.items || []} rowKey="id" loading={isLoading} />
      {data && <Pagination current={page} pageSize={pageSize} total={data.total} onChange={setPage} />}
    </PageContainer>
  )
}
```

## DataTable 列定义

```tsx
type Item = { id: number; name: string; status: number }

const columns: ColumnDef<Item>[] = [
  { key: 'id', title: 'ID', width: 80 },
  { key: 'name', title: '名称' },
  { key: 'status', title: '状态', render: (v) => <EnableStatusChip status={v as number} /> },
]
```

## 权限控制

- 使用 `PermissionGuard` 包裹操作按钮
- 支持 `permission` / `anyPermissions` / `allPermissions`

```tsx
<PermissionGuard permission="system:admin:update">
  <Button variant="ghost" isIconOnly onPress={() => edit(record)}>编辑</Button>
</PermissionGuard>
```

## 组件约定

- 统一使用 `PageContainer` + `PageHeader`
- 表格分页使用 `Pagination`（`src/components/ui/data-table.tsx`）
- Heroui 组件事件使用 `onPress`
- 表单建议 `TextField + Label + Input` 组合

## 交互规范

- 删除、重置密码等敏感操作使用确认弹窗
- 搜索区与表格区使用 Card 分块
- 刷新按钮使用 `variant="ghost"`
